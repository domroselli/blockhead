<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>New Transaction</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://gitcdn.link/repo/Chalarangelo/mini.css/master/dist/mini-default.min.css">

        <link rel="stylesheet" href="https://gitcdn.link/repo/Chalarangelo/mini.css/master/dist/mini-nord.min.css">
    </head>
    <body>
        <header>
            <a href="#" class="logo">Blockhead</a>
            <a href="index.html" role="button">About</a>
            <span>|</span>
            <a href="newTransaction.html" role="button" class="primary">New Transaction</a>
            <span>-></span>
            <a href="mine.html" role="button">Mine Blocks</a>
            <span>-></span>
            <a href="list.html" role="button">List Blocks</a>
        </header>
        <div class="container" style="padding-top: 4em;">
                          <div class="row">
                  <div class="col-sm-10 col-sm-last col-sm-offset-1 col-md-10 col-md-normal">
                  <p>
                  Transactions are just what they sound like, some type of transaction that you want to store
                  on the blockchain in an immutable state. A transaction can be anything but in our case 
                  we are dealing with sending some type of currency.
                  </p>
                  <br>
                  <p>
                    The below form has a "From" field and "To" field, in a real blockchain this would typically
                    be an address for someone/something, in our case it can be whatever you want. The "Amount" field
                    needs to be an integer.
                  </p>
                    <br>
                    <p>
                    Transactions will be added to the blockchain but won't be forged into the chain until a new
                    block is mined. Once you create a transaction (or transactions) head over the <a href="mine.html">mine</a>
                    page and forge them!
                    </p>
                  <br><br>
                  </div>
              </div>
            <div class="row" id="forms-input">
                <div class="col-sm-10 col-md-6">
                    <div class="section row">
                        <div class="col-sm-10 col-md-7 col-md-offset-8">
                            <form>
                                <fieldset>
                                    <div class="row responsive-label">
                                        <div class="col-sm-12 col-md-3">
                                            <label for="from">From</label>
                                        </div>
                                        <div class="col-sm-12 col-md" >
                                            <input type="text" value="" id="from" placeholder="from" >
                                        </div>
                                    </div>
                                            <div class="row responsive-label">
                                                <div class="col-sm-12 col-md-3">
                                                    <label for="to">To</label>
                                                </div>
                                                <div class="col-sm-12 col-md">
                                                    <input type="text" value="" id="to" placeholder="to" >
                                                </div>
                                            </div>
                                            <div class="row responsive-label">
                                                <div class="col-sm-12 col-md-3">
                                                    <label for="amount">Amount</label>
                                                </div>
                                                <div class="col-sm-12 col-md">
                                                    <input type="text" id="amount" value="" placeholder="666" >
                                                </div>
                                            </div>
                                            <div class="row responsive-label">
                                                <div class="col-sm-12 col-md">
                                                    <input type="button" class="primary" onclick="submitTransaction()" value="Submit Transaction">
                                                </div>
                                            </div>
                                            <div class="row">
                                                <p id="message"></p>
                                            </div>
                                </fieldset>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>

    <script type="text/javascript">
        function submitTransaction() {
            var to=$("#to").val();
            var from=$("#from").val();
            var amount=$("#amount").val();

            $.ajax({
                type: "POST",
                url: "http://localhost:8000/newTransaction",
                data: {to:to,from:from,amount:amount},
                success: function(data) {
                    $("#message").html("Transaction submitted");
                },
                error: function(err) {
                    alert(err);
                }
            });

        }
    </script>
</html>
